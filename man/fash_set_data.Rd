% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/00_setup.R
\name{fash_set_data}
\alias{fash_set_data}
\title{Setup Quantities for FASH}
\usage{
fash_set_data(
  Y,
  smooth_var,
  offset = 0,
  S = NULL,
  Omega = NULL,
  data_list = NULL
)
}
\arguments{
\item{Y}{Either a numeric matrix of response variables or a character string specifying the column name in \code{data_list} for response variables. Required if \code{data_list} is provided.}

\item{smooth_var}{A numeric matrix, vector, or a character string specifying the column name in \code{data_list} for smoothing variables. Required if \code{data_list} is provided.}

\item{offset}{A numeric matrix, vector, scalar, or a character string specifying the column name in \code{data_list} for offset variables.}

\item{S}{A numeric matrix, vector, scalar, or list representing the standard errors of \code{Y}. Or a character string specifying the column name in \code{data_list} for SD. If provided as a matrix, it must have the same dimensions as \code{Y}. If a vector or scalar, it will be expanded to match the dimensions of \code{Y}.}

\item{Omega}{Either a list of precision matrices (one for each dataset) or a single precision matrix (shared across all datasets). Default is \code{NULL}.}

\item{data_list}{A list of data frames, where each data frame corresponds to a single dataset.}
}
\value{
A list with the following components:
\item{data_list}{A list of data frames, where each data frame corresponds to a row of \code{Y}. Each data frame contains:
  \describe{
    \item{\code{y}}{The response variables for the corresponding row of \code{NULL}.}
    \item{\code{x}}{The smoothing variables for the corresponding row of \code{smooth_var}.}
    \item{\code{offset}}{The offset values for the corresponding row of \code{offset}.}
  }
}
\item{S}{A list of standard errors, where each element corresponds to the standard errors for a single dataset.}
\item{Omega}{A list of precision matrices, where each element corresponds to a single dataset's precision matrix.}
}
\description{
This function prepares the necessary data structures for implementing the Function Adaptive SHrinkage (FASH) approach. It processes the input data, smoothing variables, offsets, standard errors, and optional precision matrices to generate a list of data frames and supporting matrices.
}
\examples{
# Example usage with matrix input
Y <- matrix(rnorm(20), nrow = 4, ncol = 5)
smooth_var <- matrix(runif(20), nrow = 4, ncol = 5)
offset <- 1
S <- c(0.5, 0.8, 1.2, 1.0, 0.9)
Omega <- diag(c(1, 2, 3, 4, 5))
result <- fash_set_data(NULL, Y, smooth_var, offset, S, Omega)

# Example usage with data_list input
data_list <- list(
  data.frame(y = rnorm(5), x = 1:5, offset = 0),
  data.frame(y = rnorm(5), x = 1:5, offset = 0)
)
S_list <- list(rep(0.5, 5), rep(0.8, 5))
Omega_list <- list(diag(5), diag(5))
result <- fash_set_data(data_list, "y", "x", "offset", S_list, Omega_list)

}
