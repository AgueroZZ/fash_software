% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/02_empirical_bayes.R
\name{fash_post_ordering}
\alias{fash_post_ordering}
\title{Order Posterior Weight Matrix}
\usage{
fash_post_ordering(eb_output, ordering = "mean")
}
\arguments{
\item{eb_output}{A list output from \code{fash_eb_est}, containing:
\describe{
  \item{\code{posterior_weight}}{A numeric matrix of posterior weights (datasets as rows, PSD as columns).}
  \item{\code{prior_weight}}{A data frame of prior weights (not used in this function).}
}}

\item{ordering}{A character string specifying the method for reordering datasets. Options are:
\describe{
  \item{\code{"mean"}}{Reorder by the mean of the posterior PSD (default).}
  \item{\code{"median"}}{Reorder by the median of the posterior PSD.}
  \item{\code{"lfdr"}}{Reorder by the local false discovery rate (posterior probability of PSD = 0).}
}}
}
\value{
A list containing:
  \describe{
    \item{\code{ordered_matrix}}{The reordered posterior weight matrix.}
    \item{\code{ordered_indices}}{The indices used to reorder the matrix.}
    \item{\code{ordered_metrics}}{The metrics used for ordering, aligned with the reordered matrix.}
  }
}
\description{
Orders the posterior weight matrix from \code{fash_eb_est} based on a specified method of the posterior PSD.
}
\examples{
# Example usage
set.seed(1)
grid <- seq(0.1, 2, length.out = 5)
L_matrix <- matrix(rnorm(20), nrow = 4, ncol = 5)
eb_output <- fash_eb_est(L_matrix, penalty = 2, grid = grid)
result <- fash_post_ordering(eb_output, ordering = "mean")
print(result$ordered_matrix)
print(result$ordered_indices)
print(result$ordered_metrics)

}
